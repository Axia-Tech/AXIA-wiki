"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5651],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>p});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=c(a),p=o,m=u["".concat(s,".").concat(p)]||u[p]||h[p]||l;return a?n.createElement(m,r(r({ref:t},d),{},{components:a})):n.createElement(m,r({ref:t},d))}));function p(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=a.length,r=new Array(l);r[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var c=2;c<l;c++)r[c]=a[c];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},99476:(e,t,a)=>{a.r(t),a.d(t,{frontMatter:()=>i,contentTitle:()=>s,metadata:()=>c,toc:()=>d,default:()=>u});var n=a(87462),o=a(63366),l=(a(67294),a(3905)),r=["components"],i={id:"learn-collator",title:"Collator",sidebar_label:"Collator",slug:"../learn-collator"},s=void 0,c={unversionedId:"learn/learn-collator",id:"learn/learn-collator",isDocsHomePage:!1,title:"Collator",description:"Collators maintain allychains by collecting allychain transactions from users and producing state",source:"@site/../docs/learn/learn-collator.md",sourceDirName:"learn",slug:"/learn-collator",permalink:"/docs/learn-collator",editUrl:"https://github.com/axia-tech/AXIA-wiki/edit/master/docs/learn/learn-collator.md",tags:[],version:"current",lastUpdatedBy:"Arjun Chamyal",lastUpdatedAt:1634850687,formattedLastUpdatedAt:"10/22/2021",frontMatter:{id:"learn-collator",title:"Collator",sidebar_label:"Collator",slug:"../learn-collator"},sidebar:"docs",previous:{title:"Validator",permalink:"/docs/learn-validator"},next:{title:"Governance",permalink:"/docs/learn-governance"}},d=[{value:"XCM",id:"xcm",children:[],level:3},{value:"Taking the case for one Allychain",id:"taking-the-case-for-one-allychain",children:[],level:2},{value:"Collators in the Wild",id:"collators-in-the-wild",children:[],level:2},{value:"Guides and Tools",id:"guides-and-tools",children:[],level:2}],h={toc:d};function u(e){var t=e.components,i=(0,o.Z)(e,r);return(0,l.kt)("wrapper",(0,n.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Collators maintain allychains by collecting allychain transactions from users and producing state\ntransition proofs for Relay Chain validators. In other words, collators maintain allychains by\naggregating allychain transactions into allychain block candidates and producing state transition\nproofs for validators based on those blocks."),(0,l.kt)("p",null,"Collators maintain a full node for the Relay Chain and a full node for their particular allychain;\nmeaning they retain all necessary information to be able to author new blocks and execute\ntransactions in much the same way as miners do on current PoW blockchains. Under normal\ncircumstances, they will collate and execute transactions to create an unsealed block and provide\nit, together with a proof of state transition, to one or more validators responsible for proposing a\nallychain block."),(0,l.kt)("p",null,"Unlike validators, collator nodes do not secure the network. If a allychain block is invalid, it\nwill get rejected by validators. Therefore the assumption that having more collators is better or\nmore secure is not correct. On the contrary, too many collators may slow down the network. The only\nnefarious power collators have is transaction censorship. To prevent censorship, a allychain only\nneeds to ensure that there exist some neutral collators - but not necessarily a majority. Theoretically,\nthe censorship problem is solved with having just one honest collator."),(0,l.kt)("h3",{id:"xcm"},"XCM"),(0,l.kt)("p",null,"Collators are a key element of the\n",(0,l.kt)("a",{parentName:"p",href:"/docs/learn-crosschain"},"XCM (Cross-Consensus Message Passing Format)"),".\nBy being full nodes of the Relay Chain, they are all aware of each other as peers. This makes it possible\nfor them to send messages from allychain A to allychain B."),(0,l.kt)("h2",{id:"taking-the-case-for-one-allychain"},"Taking the case for one Allychain"),(0,l.kt)("p",null,"A start of a new block candidate is initiated with a block creation time. The collator aggregates all new transactions at the end of the process. When doing so, the collator signs the ",(0,l.kt)("em",{parentName:"p"},"allychain block candidate")," and produces state transition proofs, which are a summary of the final account balances caused by the transactions in the candidate block. The collator relays the candidate block and state transition proofs to the validators\non-chain. The validators verify the transactions within the allychain block candidate. Upon verification, and if\nall is well, the validator shares the candidate block with the Relay Chain."),(0,l.kt)("p",null,"Allychain block candidates are collected together and a ",(0,l.kt)("em",{parentName:"p"},"Relay Chain block candidate")," is produced."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"allychain candidate block diagram",src:a(53895).Z})),(0,l.kt)("p",null,"The validators on the network will try to reach a consensus on the Relay Chain block candidate. Upon reaching consensus, the now validated Relay Chain block candidate is shared with the validators and collators, and the process repeats for new transactions. A collator cannot continue building blocks on a allychain until the block candidate they proposed to the Relay Chain validators have been validated."),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"relay chain candidate block diagram",src:a(26050).Z})),(0,l.kt)("p",null,"A block is produced every 6 seconds."),(0,l.kt)("h2",{id:"collators-in-the-wild"},"Collators in the Wild"),(0,l.kt)("p",null,"Blockchains that are built using Substrate are unable to hook onto the Relay Chain on their own.\nThe AXIA team built the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/axia-tech/cumulus/"},"Cumulus library")," to address this.\nCollators are being used on the ",(0,l.kt)("a",{parentName:"p",href:"/docs/build-pdk##testing-a-allychains:-betanet-testnet"},"BetaNet")," testnet, and you can learn more\nabout how they are used with Cumulus via the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/axia-tech/cumulus/"},"Cumulus"),"\nrepository. More information can be found under the ",(0,l.kt)("a",{parentName:"p",href:"/docs/build-pdk###cumulus"},"Cumulus section")," on\nthe build allychain page."),(0,l.kt)("h2",{id:"guides-and-tools"},"Guides and Tools"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://substrate.dev/cumulus-workshop/"},"Workshop covering Cumulus and Collators")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/build-pdk##testing-a-allychains:-betanet-testnet"},"BetaNet tesnet guide")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/shawntabrizi/AXIA-launch"},"AXIA-launch")," - a tool to quickly spin up a\nlocal AXIA testnet based on some parameters like number of allychains, collator setup, etc.")))}u.isMDXComponent=!0},53895:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/AXIA-consensus-example-1-278ee1ae5b92b7a4e2b3f87ed7b2b842.png"},26050:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/AXIA-consensus-example-2-bc4b97c71d23e9be42fceefebdf2fb9e.png"}}]);